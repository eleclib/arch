


(defrule
    (current-age == imperial-age)
    (military-population >= cn-imperial-attack-threshold)
    (up-enemy-buildings-in-town <= 4)
    =>
    (set-goal gl-attacking 1)
    (up-modify-sn sn-maximum-town-size c:+ 4)
)

(defrule
    (current-age == imperial-age)
    (military-population < cn-imperial-retreat-threshold)
    (up-enemy-buildings-in-town >= 4)
    =>
    (set-goal gl-attacking 0)
    (up-modify-sn sn-maximum-town-size c:- 7)
)